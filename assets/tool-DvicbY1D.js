var e=Object.defineProperty,t=(t,r,i)=>((t,r,i)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i)(t,"symbol"!=typeof r?r+"":r,i);import{L as r,A as i,e as s,G as n,b as o}from"./index-5gyre0hA.js";import{T as a,a as c,D as h}from"./toolPaneView-BkZhzbTB.js";import{Z as d}from"./index-iNH1zFVl.js";import{C as l}from"./composite-CCMtJLBO.js";import{R as p}from"./rectangle-E0x1RaIQ.js";import"./baseTool-BM5mqL4_.js";class u extends a{constructor(){super(...arguments),t(this,"_backgroundRenderer",new p),t(this,"_renderer",new l(this._hitTestCollector))}renderer(){return this._renderer}_updateImpl(){this._renderer.clear(),this.points().length<2||(this._backgroundRenderer.setData({points:this.points(),color:"#2962FFFF",lineWidth:1,lineStyle:r.solid,backColor:"#2962FF26"}),this._renderer.append(this._backgroundRenderer))}}class m extends c{constructor(){super(...arguments),t(this,"_lines",new u(this,this.model)),t(this,"_paneView",[this._lines]),t(this,"disableUserSelection",!0)}pointsCount(){return 2}updateAllViews(){if(!this.controlPoints.length)return;const[e,t]=this.controlPoints;if(!t)return;const r=this.pointToScreenPoint(e);if(!r)return;const s=this.pointToScreenPoint(t);if(!s)return;const n=[new i(r,{pointIndex:0}),new i(s,{pointIndex:1})];this._lines.update({points:n})}}var g=Object.getOwnPropertyDescriptor;let v=class extends h{constructor(e){super(),t(this,"type",d),this.chartManagementService=e}createPrimitive(){return new m({id:this.id,points:[]},...this.resetArgs)}finishDrawing(){var e;super.finishDrawing();const[t,r]=s(this._drawingSession).primitive.controlPoints;null==(e=this._drawingSession)||e.detach(),this.chartService.zoomToViewport(t.time,r.time,t.price,r.price)}activated(){super.activated(),this.chartManagementService.setPaneCursor(n.zoomIn,!0)}deactivated(){var e;null==(e=this._drawingSession)||e.detach(),super.deactivated(),this.chartManagementService.setPaneCursor(n.unset)}useMagnetedPosition(){return!1}isDrawingTool(){return!1}};var w,_;v=((e,t,r,i)=>{for(var s,n=i>1?void 0:i?g(t,r):t,o=e.length-1;o>=0;o--)(s=e[o])&&(n=s(n)||n);return n})([(w=0,_=o,(e,t)=>_(e,t,w))],v);export{v as ZoomInTool};
