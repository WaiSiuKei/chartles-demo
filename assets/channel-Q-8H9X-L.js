import{bD as e,bG as t,e as i,bM as n,c8 as a,u as l,cb as s}from"./index-5gyre0hA.js";class h extends e{drawImpl(e){if(null===this._data)return;const i=e.context,n=this._visiblePolygon(e.mediaSize);if(null!==n){i.beginPath(),i.moveTo(n[0].x,n[0].y);for(let e=1;e<n.length;e++)i.lineTo(n[e].x,n[e].y);i.fillStyle=t(this._data.color,this._data.transparency,!0),i.fill()}}_visiblePolygon(e){const t=i(this._data),h=t.p1,o=t.p2,r=t.p3,d=t.p4,c=n(h,o),f=n(r,d),u=a(h,o,r).distance,p=a(h,o,d).distance;if(c||f||u<1e-6&&p<1e-6)return null;if(e.width<=0||e.height<=0)return null;let w=[new l(0,0),new l(e.width,0),new l(e.width,e.height),new l(0,e.height)];return w=s(w,h,o,[d,r]),w=s(w,d,r,[h,o]),n(r,h)||t.extendLeft||(w=s(w,r,h,[o,d])),w}}export{h as C};
