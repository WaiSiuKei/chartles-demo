import{u as n}from"./index-5gyre0hA.js";function y(y,t,x,h,s,e,a){const u=y.x>=0&&y.x<=s&&y.y>=0&&y.y<=e,i=t.x>=0&&t.x<=s&&t.y>=0&&t.y<=e;if(u&&i&&!x&&!h)return[y,t];if(y.x<0&&t.x<0&&(y.x<t.x?!h:!x)||y.x>s&&t.x>s&&(y.x<t.x?!x:!h)||y.y<0&&t.y<0&&(y.y<t.y?!h:!x)||y.y>e&&t.y>e&&(y.y<t.y?!x:!h))return null;const o=[];if(y.x===t.x){if(y.x<0||y.x>s)return null;y.y<t.y?o.push(new n(y.x,0===a?0:y.y<0?y.y%a:-(a-y.y%a)),new n(t.x,e)):o.push(new n(y.x,0===a?e:y.y>e?e+(y.y-e)%a:e+(a-(e-y.y)%a)),new n(t.x,0))}else if(y.y===t.y){if(y.y<0||y.y>e)return null;y.x<t.x?o.push(new n(0===a?0:y.x<0?y.x%a:-(a-y.x%a),y.y),new n(s,t.y)):o.push(new n(0===a?s:y.x>s?s+(y.x-s)%a:s+(a-(s-y.x)%a),y.y),new n(0,t.y))}else{const h=(t.y-y.y)/(t.x-y.x),u=y.y-h*y.x,i=(n,y,t)=>n>=y&&n<=t?n:null,l=i(u,0,e);if(null!==l)if(a>0&&(y.x<=0||x&&y.x<t.x)){const t=y.x<=0?Math.hypot(0-y.x,l-y.y)%a:a-Math.hypot(0-y.x,l-y.y)%a,x=Math.cos(Math.atan(h))*t,s=h*x;o.push(new n(-x,l-s))}else o.push(new n(0,l));const M=i(h*s+u,0,e);if(null!==M)if(a>0&&(y.x>=s||x&&y.x>t.x)){const t=y.x>=s?Math.hypot(y.x-s,y.y-M)%a:a-Math.hypot(y.x-s,y.y-M)%a,x=Math.cos(Math.atan(h))*t,e=h*x;o.push(new n(s+x,M+e))}else o.push(new n(s,M));const p=i(-u/h,0,s);if(null!==p&&(0!==p||0!==l))if(a>0&&(y.y<=0||x&&y.y<t.y)){const t=y.y<=0?Math.hypot(y.x-p,y.y)%a:a-Math.hypot(y.x-p,y.y)%a,x=Math.cos(Math.atan(h))*t,s=h*x;o.push(new n(p-Math.sign(h)*x,0-Math.sign(h)*s))}else o.push(new n(p,0));const f=i((e-u)/h,0,s);if(null!==f&&(0!==f||M!==e))if(a>0&&(y.y>=e||x&&y.y>t.y)){const t=y.y>=e?Math.hypot(y.x-f,y.y-e)%a:a-Math.hypot(y.x-f,y.y-e)%a,x=Math.cos(Math.atan(h))*t,s=h*x;o.push(new n(f+Math.sign(h)*x,e+Math.sign(h)*s))}else o.push(new n(f,e))}if(o.length<1)return null;o.length<2&&o.push(o[0]);const l=(n,y,t,x)=>Math.sign(n.x-y.x)===Math.sign(t.x-x.x)&&Math.sign(n.y-y.y)===Math.sign(t.y-x.y);return!x&&u?[y,l(o[0],o[1],y,t)?o[1]:o[0]]:!h&&i?[l(o[0],o[1],y,t)?o[0]:o[1],t]:l(o[0],o[1],y,t)?[o[0],o[1]]:[o[1],o[0]]}export{y as i};
